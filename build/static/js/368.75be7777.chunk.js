"use strict";(self.webpackChunkeazy_manage=self.webpackChunkeazy_manage||[]).push([[368],{7222:function(e,n,a){a.d(n,{Z:function(){return m}});var t=a(286),s=a(6015),i=a(7205),l=(a(2791),a(9434)),r=a(2067),c=a(184);var m=function(e){var n=(0,l.I0)();return(0,c.jsxs)(t.Z,{className:"comment-box",elevation:3,children:[(0,c.jsx)(s.Z,{className:"item",children:e.description}),(0,c.jsx)(s.Z,{className:"item",children:e.department}),(0,c.jsx)(s.Z,{className:"item",children:e.topic}),(0,c.jsx)(s.Z,{className:"item",children:e.button?(0,c.jsx)(i.Z,{variant:"outlined",color:"warning",onClick:function(){return n((0,r.PN)({id:e.id}))},children:"Delete"}):""})]})}},4368:function(e,n,a){a.r(n),a.d(n,{default:function(){return _}});var t=a(3433),s=a(4165),i=a(5861),l=a(9439),r=a(2791),c=a(4930),m=a(8596),o=a.n(m),d=a(4045),h=(a(4164),a(9434)),u=a(6015),x=a(3609),g=a(1267),j=a(3671),Z=a(4565),p=a(1131),v=a(7205),N=a(1680),f=a(9773),b=a(4390),w=a(9963),y=a(9827),k=a(807),C=a(286),S=a(5512),z=a(6444),I=(a(7222),a(4911)),P=a(5590),T=a(9823),D=a(184);var _=function(e){var n=r.useRef(),a=(0,h.I0)(),m=(0,h.v9)((function(e){return e.waitingListStoreReducer.events})),_=r.useState(!1),W=(0,l.Z)(_,2),E=W[0],L=W[1],R=(0,r.useState)(),q=(0,l.Z)(R,2),A=q[0],G=q[1],H=(0,r.useState)(),U=(0,l.Z)(H,2),F=U[0],O=U[1];console.log(A);var B=function(){var e=(0,i.Z)((0,s.Z)().mark((function e(){var a,t,i,l,r,m,d;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=n.current,e.next=3,o()(a);case 3:t=e.sent,i=t.toDataURL("image/png"),l=new c.ZP("p","in",[14,8]),r=l.getImageProperties(i),m=l.internal.pageSize.getWidth(),d=r.height*m/r.width,l.addImage(i,"PNG",0,0,m,d),l.save("print.pdf");case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=m.filter((function(e){return e._id===A})).map((function(a){return(0,D.jsxs)("div",{style:{height:"29.7cm",width:"21cm"},children:[(0,D.jsxs)(x.Z,{expanded:!0,onClick:function(){return X(a)},ref:n,id:"pdf",children:[(0,D.jsxs)(j.Z,{"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[(0,D.jsxs)(Z.Z,{variant:"P",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:a.guestsNum}),(0,D.jsx)("span",{children:e.language?"\u05d0\u05d9\u05e9":"People"})]}),(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05d0\u05d5\u05e8\u05d7\u05d9\u05dd":"Guests type"}),a.guestsType]}),(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05d6\u05de\u05df":"time"}),a.time]}),(0,D.jsx)(Z.Z,{className:"event-main-data-item",children:a.name}),(0,D.jsx)(Z.Z,{className:"event-main-data-item",children:a.date}),(0,D.jsx)(Z.Z,{variant:"p",className:"event-main-data-item",children:a.menu}),(0,D.jsx)(Z.Z,{className:"event-main-data-item",children:a.eventType?e.language?"\u05dc\u05e9\u05d1\u05ea":"To Sit":"TA"})]}),(0,D.jsxs)(g.Z,{children:[(0,D.jsx)(u.Z,{className:"event-details-header"}),(0,D.jsxs)(u.Z,{className:"event-details-main",children:[(0,D.jsx)(w.Z,{component:C.Z,children:(0,D.jsx)(N.Z,{size:"small","aria-label":"a dense table",children:(0,D.jsx)(f.Z,{children:a.menuItems.map((function(n){return(0,D.jsxs)(k.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,D.jsx)(b.Z,{className:"list-item",align:"center",children:n.quantity}),(0,D.jsx)(b.Z,{className:"list-item",align:"center",component:"th",scope:"row",children:e.language?n.nameHe:n.nameEn}),(0,D.jsx)(b.Z,{className:"list-item",align:"center",children:n.id+1})]})}))})})}),(0,D.jsxs)(C.Z,{elevation:3,className:"comments",children:[(0,D.jsx)(Z.Z,{variant:"h5",sx:{fontWeight:"600"},children:e.language?"\u05d4\u05e2\u05e8\u05d5\u05ea":"Comments"}),(0,D.jsxs)(u.Z,{className:"comments-row",children:[(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05de\u05d7\u05dc\u05e7\u05d4":"Department"}),(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05d4\u05e2\u05e8\u05d4":"Comment"}),(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05e0\u05d5\u05e9\u05d0":"Topic"})]}),a.comments.map((function(e){return(0,D.jsxs)(u.Z,{className:"comments-row",children:[(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.department}),(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.description}),(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.topic})]})}))]})]})]})]}),(0,D.jsx)(P.Z,{size:"small",color:"info","aria-label":"add",onClick:function(){O(!F)},children:(0,D.jsx)(T.Z,{})}),(0,D.jsx)(v.Z,{className:"footer-button",size:"large",color:"primary",variant:"contained",onClick:B,style:{float:"right"},children:e.language?"\u05d4\u05d5\u05e8\u05d9\u05d3 PDF":"Download pdf"})]})})),K=(0,r.useState)([]),M=(0,l.Z)(K,2),Q=M[0],V=M[1];function X(e){e.menuItems.map((function(e){V((function(n){return[].concat((0,t.Z)(n),[{id:e.id+1,item:e.nameHe,quantity:e.quantity}])}))}))}return(0,D.jsxs)(C.Z,{className:"waiting-list",elevation:5,children:[(0,D.jsx)(Z.Z,{className:"waiting-list-header",align:"center",variant:"h4",children:e.language?"\u05e8\u05e9\u05d9\u05de\u05ea \u05d4\u05d4\u05de\u05ea\u05e0\u05d4":"Waiting List"}),(0,D.jsx)(u.Z,{className:F?"backdropW":"none",children:J}),m.map((function(n){return(0,D.jsxs)(x.Z,{expanded:E==="panel"+n._id,onChange:(t="panel"+n._id,function(e,n){L(!!n&&t)}),id:"pdf",onClick:function(){X(n),G(n._id)},children:[(0,D.jsxs)(j.Z,{expandIcon:(0,D.jsx)(p.Z,{}),"aria-controls":"panel1bh-content",id:"panel1bh-header",children:[(0,D.jsx)(v.Z,{className:"close-button-box",onClick:function(){return e=n._id,void(a((0,z.xC)(e))&&a((0,I.yO)(e)));var e},children:(0,D.jsx)(S.Z,{color:"error",fontSize:"large"})}),(0,D.jsx)(Z.Z,{className:"event-header-data-item",children:n.date}),(0,D.jsx)(Z.Z,{className:"event-header-data-item",children:n.name}),(0,D.jsx)(Z.Z,{className:"event-header-data-item",children:n.eventType?e.language?"\u05dc\u05e9\u05d1\u05ea":"To Sit":"TA"})]}),(0,D.jsxs)(g.Z,{children:[(0,D.jsxs)(u.Z,{className:"event-details-header",children:[(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05de\u05e1\u05e4\u05e8 \u05d4\u05d0\u05d5\u05e8\u05d7\u05d9\u05dd ":"Guests number"}),(0,D.jsx)("span",{children:n.guestsNum})]}),(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05e1\u05d5\u05d2 \u05d4\u05d0\u05d5\u05e8\u05d7\u05d9\u05dd":"Guests type"}),n.guestsType]}),(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05d6\u05de\u05df \u05d4\u05d0\u05d9\u05e8\u05d5\u05e2":"Event time"}),n.time]}),(0,D.jsxs)(Z.Z,{variant:"subtitle1",className:"event-main-data-item",children:[(0,D.jsx)("span",{children:e.language?"\u05ea\u05e4\u05e8\u05d9\u05d8 \u05d4\u05d0\u05d9\u05e8\u05d5\u05e2":"Event menu"}),n.menu]})]}),(0,D.jsxs)(u.Z,{className:"event-details-main",children:[(0,D.jsxs)(w.Z,{component:C.Z,children:[(0,D.jsx)(Z.Z,{variant:"h5",sx:{fontWeight:"600",textAlign:"center"},children:e.language?"\u05e4\u05e8\u05d9\u05d8\u05d9\u05dd":"Items"}),(0,D.jsxs)(N.Z,{size:"small","aria-label":"a dense table",children:[(0,D.jsx)(y.Z,{children:(0,D.jsxs)(k.Z,{children:[(0,D.jsx)(b.Z,{align:"center",children:(0,D.jsx)("h3",{children:e.language?"\u05db\u05de\u05d5\u05ea":"Amount"})}),(0,D.jsx)(b.Z,{align:"center",children:(0,D.jsx)("h3",{children:e.language?"\u05de\u05d5\u05e6\u05e8":"Product"})})]})}),(0,D.jsx)(f.Z,{children:n.menuItems.map((function(n){return(0,D.jsxs)(k.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,D.jsx)(b.Z,{className:"list-item",align:"center",children:n.quantity}),(0,D.jsx)(b.Z,{className:"list-item",align:"center",component:"th",scope:"row",children:e.language?n.nameHe:n.nameEn})]})}))})]})]}),(0,D.jsxs)(C.Z,{elevation:3,className:"comments",children:[(0,D.jsx)(Z.Z,{variant:"h5",sx:{fontWeight:"600"},children:e.language?"\u05d4\u05e2\u05e8\u05d5\u05ea":"Comments"}),(0,D.jsxs)(u.Z,{className:"comments-row",children:[(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05de\u05d7\u05dc\u05e7\u05d4":"Department"}),(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05d4\u05e2\u05e8\u05d4":"Comment"}),(0,D.jsx)(u.Z,{className:"comments-row-item top",children:e.language?"\u05e0\u05d5\u05e9\u05d0":"Topic"})]}),n.comments.map((function(e){return(0,D.jsxs)(u.Z,{className:"comments-row",children:[(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.department}),(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.description}),(0,D.jsx)(u.Z,{className:"comments-row-item",children:e.topic})]})}))]}),(0,D.jsxs)(C.Z,{elevation:3,className:"price-container",children:[(0,D.jsx)(Z.Z,{variant:"h5",sx:{fontWeight:"600"},children:e.language?"\u05de\u05d7\u05d9\u05e8":"Price"}),(0,D.jsxs)(Z.Z,{variant:"h5",children:[n.price," ILS"]})]})]})]}),(0,D.jsxs)(u.Z,{className:"event-details-footer",children:[(0,D.jsx)(v.Z,{className:"footer-button",size:"large",color:"primary",variant:"contained",children:e.language?"\u05e9\u05dc\u05d7 \u05dc\u05d4\u05db\u05e0\u05d4":"Send to production"}),(0,D.jsx)(v.Z,{className:"footer-button",size:"large",color:"primary",variant:"contained",onClick:function(){return O(!0)},children:e.language?"\u05d4\u05d5\u05e8\u05d9\u05d3 PDF":"Download pdf"}),(0,D.jsx)(v.Z,{className:"footer-button",size:"large",color:"primary",variant:"contained",disabled:!0,children:e.language?"\u05e9\u05dc\u05d7 \u05dc\u05de\u05d5\u05d6\u05d9\u05d0\u05d5\u05df":"Send to museum"}),(0,D.jsx)(v.Z,{className:"footer-button",size:"large",color:"primary",variant:"contained",onClick:function(){return function(e){var n={Sheets:{data:d.P6.json_to_sheet(Q)},SheetNames:["data"]},a=d.cW(n,{bookType:"xlsx",type:"array"}),t=new Blob([a],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),s=URL.createObjectURL(t),i=document.createElement("a");i.href=s,i.download="output.xlsx",i.click()}(n.menuItems)},children:e.language?"\u05d4\u05d5\u05e8\u05d9\u05d3 \u05d0\u05e7\u05e1\u05dc":"Download Excel"})]})]});var t}))]})}}}]);
//# sourceMappingURL=368.75be7777.chunk.js.map